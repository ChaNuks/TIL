# 멱등성 (Idempotence)

## 정의
- 멱등성은 어떤 연산을 여러 번 적용해도 결과가 동일한 성질을 의미
- 예를 들어, HTTP 메서드 중 `GET`, `PUT`, `DELETE`는 멱등성을 가짐
- `POST`는 멱등성이 없으며, 요청을 여러 번 보내면 리소스가 중복 생성될 수 있음
---

## HTTP 메서드와 멱등성
| HTTP Method | 멱등성 여부 | 설명 |
|-------------|--------------|------|
| GET         | O            | 리소스를 조회하는 요청으로, 여러 번 호출해도 결과가 동일 |
| PUT         | O            | 리소스를 업데이트하는 요청으로, 동일한 데이터를 여러 번 보내도 결과는 동일 |
| DELETE      | O            | 리소스를 삭제하는 요청으로, 동일한 리소스를 여러 번 삭제해도 결과는 동일 |
| POST        | X            | 리소스를 생성하는 요청으로, 여러 번 호출하면 중복 생성될 수 있음 |
| PATCH       | O            | 리소스의 일부를 수정하는 요청으로, 동일한 데이터를 여러 번 보내도 결과는 동일 |

---
## 멱등성의 중요성
- 멱등성은 시스템의 안정성과 예측 가능성을 높임
- 네트워크 오류나 중복 요청에 대한 안전성을 제공
- API 설계 시 멱등성을 고려하면 클라이언트와 서버 간의 상호작용이 명확해짐
- 예를 들어, 멱등성을 갖는 메서드는 클라이언트가 요청을 재시도할 때 서버의 상태를 예측할 수 있어 오류를 줄일 수 있음
- 멱등성을 갖는 메서드는 캐싱과 같은 최적화 기법을 적용하기 용이함

---

## 멱등성 예시
- **GET 요청**: 특정 리소스를 조회할 때, 여러 번 호출해도 동일한 결과를 반환
  ```http
    GET /api/users/123
  ```
- **PUT 요청**: 특정 리소스를 업데이트할 때, 동일한 데이터를 여러 번 보내도 결과는 동일
  ```http
    PUT /api/users/123
    {
        "name": "John Doe",
        "email": "test@test.com"
    }
  ```
- **DELETE 요청**: 특정 리소스를 삭제할 때, 이미 삭제된 리소스를 다시 삭제해도 결과는 동일
  ```http
    DELETE /api/users/123
    ```
